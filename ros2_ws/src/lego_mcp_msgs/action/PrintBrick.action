# PrintBrick.action - 3D print a LEGO brick (long-running operation)
# LEGO MCP Manufacturing System v7.0

# Goal
string work_order_id               # Parent work order
string brick_id                    # Brick specification ID
string printer_id                  # Target printer (empty for auto-assign)
string source_file                 # STL/3MF file path
string sliced_file                 # Pre-sliced file path (optional)

# Print parameters (override defaults if specified)
float32 layer_height               # Layer height in mm (0 = use default)
float32 infill_percent             # Infill percentage (0 = use default)
float32 print_speed                # Print speed in mm/s (0 = use default)
string material_profile            # Material profile name
string quality_profile             # Quality profile (draft, normal, fine)

# Options
bool slice_if_needed               # Auto-slice if no sliced file
bool verify_material               # Verify material loaded
bool pre_heat                      # Pre-heat before starting
bool post_process                  # Include post-processing (cure, clean)
bool inspect_after                 # Run quality inspection after print

---

# Result
bool success                       # Print completed successfully
string message                     # Success/error message
string job_id                      # Print job ID

# Completion details
float32 actual_duration_sec        # Actual print duration
float32 material_used_grams        # Material used
uint32 layers_printed              # Layers completed
builtin_interfaces/Time completed_at

# Quality results (if inspection enabled)
bool inspection_passed             # Inspection passed
float32 quality_score              # Quality score (0-1)
string[] defects_found             # Defects found (if any)
string inspection_report_path      # Path to detailed report

# Output
string output_file_path            # Path to any generated files

---

# Feedback
uint8 phase                        # 0=queued, 1=slicing, 2=preheating, 3=printing,
                                   #  4=cooling, 5=post_processing, 6=inspecting
string phase_name                  # Human-readable phase name
float32 progress_percent           # Overall progress (0-100)
uint32 current_layer               # Current layer number
uint32 total_layers                # Total layers
float32 elapsed_sec                # Elapsed time in seconds
float32 remaining_sec              # Estimated remaining time
float32 nozzle_temp                # Current nozzle temperature (FDM)
float32 bed_temp                   # Current bed temperature (FDM)
float32 chamber_temp               # Current chamber temperature (SLA)
string status_message              # Current status message
