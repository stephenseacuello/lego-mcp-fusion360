# LEGO MCP Factory Simulation Parameters
# LEGO MCP Manufacturing System v7.0

simulation:
  ros__parameters:
    use_sim_time: true

# Equipment simulation timing
# Set to low values for fast testing, realistic values for demos
timing:
  fast_mode:
    layer_time_s: 0.5
    heating_time_s: 1.0
    filling_time_s: 0.5
    cnc_feedrate_multiplier: 10.0

  realistic_mode:
    layer_time_s: 8.0
    heating_time_s: 300.0
    filling_time_s: 60.0
    cnc_feedrate_multiplier: 1.0

# GRBL CNC Simulator (TinyG)
cnc_simulator:
  ros__parameters:
    machine_type: "tinyg"
    machine_name: "cnc"
    max_feedrate: 5000.0  # mm/min
    max_travel_x: 300.0   # mm
    max_travel_y: 200.0
    max_travel_z: 100.0
    status_rate: 10.0     # Hz
    simulate_delays: true

# GRBL Laser Simulator (MKS)
laser_simulator:
  ros__parameters:
    machine_type: "grbl"
    machine_name: "laser"
    max_feedrate: 10000.0  # mm/min
    max_travel_x: 350.0    # mm
    max_travel_y: 350.0
    max_travel_z: 50.0
    status_rate: 10.0      # Hz
    simulate_delays: true

# Formlabs SLA Simulator
formlabs_simulator:
  ros__parameters:
    printer_name: "formlabs"
    printer_model: "Form 3+"
    serial_number: "SIM-FORM-001"
    layer_time_s: 8.0       # seconds per layer
    heating_time_s: 300.0   # 5 minutes
    filling_time_s: 60.0    # 1 minute
    status_rate: 1.0        # Hz
    simulate_failures: false
    failure_probability: 0.001

# Robot simulation (uses Gazebo/official packages)
robots:
  ned2:
    base_frame: "ned2_base_link"
    world_position: [0.1, 0.4, 0.77]
    world_orientation: [0, 0, 0, 1]  # quaternion xyzw

  xarm:
    base_frame: "xarm_base_link"
    world_position: [1.1, 0.4, 0.77]
    world_orientation: [0, 0, 1, 0]  # 180 deg rotation

# Factory cell layout (for collision checking)
cell_layout:
  worktable:
    position: [0.6, 0.4, 0.75]
    size: [1.2, 0.8, 0.03]

  assembly_zone:
    position: [0.6, 0.4, 0.765]
    size: [0.3, 0.3, 0.01]

  pickup_zone:
    position: [0.3, 0.4, 0.765]
    size: [0.15, 0.2, 0.01]

  formlabs_zone:
    position: [-0.4, 0.4, 0.4]
    size: [0.4, 0.4, 0.8]

  cnc_zone:
    position: [0.6, -0.3, 0.15]
    size: [0.4, 0.3, 0.3]

  laser_zone:
    position: [0.6, 1.1, 0.1]
    size: [0.35, 0.35, 0.2]
