{
  "name": "LEGO Optimized - Bambu Lab",
  "id": "lego_bambu",
  "description": "LEGO brick optimized settings for Bambu Lab printers (P1S, X1C)",
  "base_printer": "bambu_p1s",

  "layer_settings": {
    "layer_height": 0.12,
    "first_layer_height": 0.2,
    "initial_layer_line_width": 0.5
  },

  "wall_settings": {
    "wall_count": 3,
    "wall_line_width": 0.42,
    "outer_wall_speed": 120,
    "inner_wall_speed": 180,
    "wall_ordering": "outside_to_inside",
    "seam_position": "aligned",
    "z_seam_corner": "hide"
  },

  "top_bottom": {
    "top_layers": 5,
    "bottom_layers": 4,
    "top_bottom_pattern": "monotonic",
    "ironing_enabled": true,
    "ironing_flow": 10,
    "ironing_speed": 80
  },

  "infill": {
    "infill_density": 20,
    "infill_pattern": "grid",
    "infill_line_width": 0.45,
    "infill_overlap": 15
  },

  "dimensional_accuracy": {
    "xy_compensation": -0.08,
    "xy_hole_compensation": 0.04,
    "elephant_foot_compensation": 0.15,
    "first_layer_expansion": -0.15,
    "shrinkage_compensation": {
      "x": 100.0,
      "y": 100.0,
      "z": 100.0
    }
  },

  "speed_overrides": {
    "first_layer_speed": 30,
    "outer_wall_speed": 120,
    "inner_wall_speed": 180,
    "sparse_infill_speed": 250,
    "solid_infill_speed": 200,
    "top_surface_speed": 100
  },

  "quality_settings": {
    "minimum_layer_time": 8,
    "bridge_flow": 95,
    "bridge_speed": 40,
    "overhang_speed": 25,
    "small_perimeter_speed": 25,
    "gap_fill": true,
    "thin_walls": true
  },

  "support": {
    "support_enable": false,
    "support_type": "tree",
    "support_angle": 55,
    "support_interface_layers": 3
  },

  "cooling_overrides": {
    "slow_down_for_layer_time": true,
    "min_layer_time": 8,
    "overhang_fan_speed": 100
  },

  "material_defaults": {
    "pla": {
      "bed_temp": 55,
      "nozzle_temp": 215,
      "fan_speed": 100
    },
    "petg": {
      "bed_temp": 70,
      "nozzle_temp": 245,
      "fan_speed": 50
    },
    "abs": {
      "bed_temp": 100,
      "nozzle_temp": 260,
      "fan_speed": 0,
      "chamber_temp": 45
    },
    "asa": {
      "bed_temp": 100,
      "nozzle_temp": 255,
      "fan_speed": 0,
      "chamber_temp": 45
    }
  },

  "lego_specific": {
    "stud_tolerance": 0.1,
    "tube_tolerance": 0.1,
    "clutch_power_adjustment": 0.05,
    "print_orientation": "studs_up",
    "support_studs": false,
    "support_underside": false,
    "notes": "Optimized for LEGO brick compatibility. XY compensation tuned for tight stud fit. Ironing enabled for smooth top surface."
  }
}
