# LegoMCP Secrets Configuration
# PhD-Level Manufacturing Platform
# NOTE: In production, use External Secrets Operator or Sealed Secrets

apiVersion: v1
kind: Secret
metadata:
  name: legomcp-secrets
  namespace: legomcp
  labels:
    app: legomcp
type: Opaque
stringData:
  # Database
  database-url: "postgresql://lego:CHANGE_ME@postgres:5432/legomcp"
  database-password: "CHANGE_ME"

  # Redis
  redis-url: "redis://:CHANGE_ME@redis:6379/0"
  redis-password: "CHANGE_ME"

  # Flask
  flask-secret-key: "CHANGE_ME_GENERATE_SECURE_KEY"

  # JWT
  jwt-secret: "CHANGE_ME_GENERATE_SECURE_KEY"

  # Fusion 360 API (if applicable)
  fusion360-client-id: ""
  fusion360-client-secret: ""

  # Slicer Service
  slicer-api-key: "CHANGE_ME"

  # ML Model Registry
  mlflow-tracking-uri: "http://mlflow:5000"
  wandb-api-key: ""

  # Cloud Provider (AWS/GCP/Azure)
  aws-access-key-id: ""
  aws-secret-access-key: ""
  gcp-service-account-json: ""

  # Observability
  sentry-dsn: ""
  datadog-api-key: ""
---
apiVersion: v1
kind: Secret
metadata:
  name: docker-registry
  namespace: legomcp
type: kubernetes.io/dockerconfigjson
stringData:
  .dockerconfigjson: |
    {
      "auths": {
        "registry.example.com": {
          "username": "CHANGE_ME",
          "password": "CHANGE_ME",
          "auth": "CHANGE_ME_BASE64"
        }
      }
    }
---
# External Secrets Operator Configuration (recommended for production)
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: legomcp-external-secrets
#   namespace: legomcp
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     kind: ClusterSecretStore
#     name: vault-backend
#   target:
#     name: legomcp-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: database-url
#       remoteRef:
#         key: legomcp/database
#         property: url
#     - secretKey: redis-url
#       remoteRef:
#         key: legomcp/redis
#         property: url
#     - secretKey: flask-secret-key
#       remoteRef:
#         key: legomcp/flask
#         property: secret-key
#     - secretKey: jwt-secret
#       remoteRef:
#         key: legomcp/jwt
#         property: secret
